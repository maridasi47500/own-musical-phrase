<%= form_with(model: fragment) do |form| %>
  <% if fragment.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(fragment.errors.count, "error") %> prohibited this fragment from being saved:</h2>

      <ul>
        <% fragment.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :clef, style: "display: block" %> g, f
    <%= form.text_field :clef %>
  </div>

  <div>
    <%= form.label :nuance, style: "display: block" %> 
<p>\ppppp, \pppp, \ppp, \pp, \p, \mp, \mf, \f, \ff, \fff, \ffff, \fffff, \fp, \sf, \sff, \sp, \spp, \sfz, \rfzet \n

 et tu peux mélanger texte et nuance piuF = \markup { \italic più \dynamic f }
<br>

\layout { ragged-right = ##f }

\relative c'' {
  c2\f c-\piuF
}</p>
<lilypond fragment staffsize=36>
  \key c \major
  \time 4/4
  \tempo 4=100

  % En avant la musique.
 a b c d e f g

\lyricmode {
\markup { \italic più \dynamic f }} a b c d e
  a\ppppp a\pppp a\ppp a\pp a\p a\mp a\mf a\f a\ff a\fff a\ffff a\fffff a\fp a\sf a\sff a\sp a
</lilypond>
<p>la nuance et le caractere


    \markup {
      \column {
        \line {
          \concat { 1 \super st }
          movement
        }
        \line {
          \concat { \dynamic p , }
          \italic { con dolce espressione }
        }
      }
    }
</p>
<lilypond fragment staffsize=30>
  \key c \major
  \time 4/4
  \tempo 4=100
  a 
  #(make-dynamic-script
#{
\markup {
con dolce espressione \dynamic
p
}
#}) a4 b c d8 a b c d  
</lilypond>
    <%= form.text_field :nuance %>
  </div>

  <div>
    <%= form.label :key_signature, style: "display: block" %> c major, d minor, f major etc.
<lilypond fragment staffsize=30>
  \key c \major
  \time 4/4
a4 d8 b c d  
</lilypond>
<lilypond fragment staffsize=30>
  \key e \minor
  \time 4/4
a4 d8 b c d  
</lilypond>
<lilypond fragment staffsize=30>
  \key f \major
  \time 4/4
a4 d8 b c d  
</lilypond>
    <%= form.text_field :key_signature %>
  </div>

  <div>
    <%= form.label :time_signature, style: "display: block" %>
 4/4, 3/4, 6/8C, etc.
<lilypond fragment staffsize=30>
  \key f \major
  \time 3/4
a4 d8 bes c d  
</lilypond>
<lilypond fragment staffsize=30>
  \key f \major
  \time 6/8
a4. d8. bes16 c d  
</lilypond>
    <%= form.text_field :time_signature %>
  </div>

  <div>
    <%= form.label :caractere, style: "display: block" %>

<p>
    \markup {
      \column {
        \line {
          \concat { 1 \super st }
          movement
        }
        \line {
          \concat { \dynamic p , }
          \italic { con dolce espressione }
        }
      }
    }

</p>
<p>
"Terme italien 
affettuoso 
agitato 
amabile 
amoroso 
appassionato 
ardito 
brillante 
cantabile 
capriccioso 
comodo 
con allegrezza 
con anima 
con bravura 
con brio 
con delicatezza 
con dolore 
con espressione 
con fuoco 
con grazia 
con gusto 
con moto 
con spirito 
con tenerezza 
delicatamente 
delicato 
disperato 
dolce 
dolcissimo 
doloroso 
drammatico 
energico 
espressivo 
furioso 
giocoso 
grazioso 
imperioso 
lagrimoso 
leggero 
maestoso 
malinconico 
mesto 
nobile 
patetico 
pomposo 
religioso 
risoluto 
rustico 
scherzando 
semplice 
teneramente 
tranquillo 
tristamente

</p>
<lilypond fragment staffsize=30>
  \key f \major
  \time 6/8
a4. d8. bes16 c d  


 #(make-dynamic-script
#{
\markup {
tristamente
p
}
#}) 
</lilypond>

    <%= form.text_field :caractere %>
  </div>

  <div>
    <%= form.label :tempo, style: "display: block" %>
<lilypond fragment staffsize=30>
  \key f \major
  \tempo "Allegro" 4 = 100
  \time 6/8
a4. d8. bes16 c d  

</lilypond>
Prestissimo, Vivace, "Andante", and "Largo" "Allegro" 4 = 100 (la noire à 100bpm)
    <%= form.text_field :tempo %>
  </div>

  <div>
    <%= form.label :title, style: "display: block" %>
    <%= form.text_field :title %>
  </div>

  <div>
    <%= form.label :myscore, style: "display: block" %>
    <%= form.text_field :myscore %>
  </div>

  <div>
    <%= form.submit %>
  </div>
<% end %>
